<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Saturn — Ricardo Risco</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #03060a;
        font-family: sans-serif;
        color: white;
    }

    #ui {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 10;
        background: rgba(0,0,0,0.5);
        padding: 15px;
        border-radius: 10px;
        backdrop-filter: blur(6px);
    }
    label { font-size: 14px; }

    #title {
        position: fixed;
        top: 50px;
        right: 50px;
        font-size: 48px;
        font-weight: 800;
        color: #ffd57f;
        text-shadow: 0 0 15px #ffbe4d;
        pointer-events: none;
    }

    #asciiModal {
        position: fixed;
        display: none;
        top: 0; left:0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.85);
        z-index: 999;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }
    #asciiBox {
        width: 90%;
        height: 80%;
        background: black;
        border: 2px solid white;
        overflow: auto;
        font-family: monospace;
        white-space: pre;
        padding: 20px;
        color: white;
    }
    #closeASCII {
        margin-top: 20px;
        padding: 10px 20px;
        background: #111;
        border: solid 1px white;
        color: white;
        cursor: pointer;
        border-radius: 5px;
    }
</style>
</head>
<body>

<!-- UI CONTROLS -->
<div id="ui">
    <label>Number of Rings</label><br>
    <input id="rings" type="range" min="1" max="8" value="4"><br><br>

    <label>Ring Intensity</label><br>
    <input id="strength" type="range" min="0.1" max="2" step="0.1" value="1"><br><br>

    <button id="openVideo">Open Reference Video Frame</button>
    <br><br>
    <button id="openASCII">Show ASCII Saturn</button>
</div>

<!-- TITLE -->
<div id="title">Ricardo Risco</div>

<!-- ASCII MODAL -->
<div id="asciiModal">
    <div id="asciiBox">(ASCII Saturn loads here...)<br><br>Loading…</div>
    <button id="closeASCII">Close</button>
</div>

<!-- THREE.JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

<script>
/* =============  SCENE + CAMERA =============== */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(55, innerWidth/innerHeight, 0.1, 2000);
camera.position.set(0, 5, 16);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

/* =============  LIGHTS =============== */
const keyLight = new THREE.DirectionalLight(0xffffff, 2);
keyLight.position.set(5, 2, 5);
scene.add(keyLight);

scene.add(new THREE.AmbientLight(0xffffff, 0.3));

/* =============  SATURN PLANET =============== */
const saturnGeo = new THREE.SphereGeometry(4, 64, 64);
const saturnMat = new THREE.MeshStandardMaterial({
    color: 0xf5ecd7,
    metalness: 0.1,
    roughness: 0.6
});
const saturn = new THREE.Mesh(saturnGeo, saturnMat);
scene.add(saturn);

/* Saturn subtle bands using vertex colors */
saturnGeo.computeVertexNormals();
saturnGeo.attributes.position.needsUpdate = true;

/* =============  RINGS =============== */
const ringGroup = new THREE.Group();
scene.add(ringGroup);

function buildRings(count, strength){
    ringGroup.clear();
    for(let i=0;i<count;i++){
        const inner = 4.5 + i*0.5;
        const outer = inner + 0.4;

        const ringGeo = new THREE.RingGeometry(inner, outer, 128);
        const ringMat = new THREE.MeshStandardMaterial({
            color: new THREE.Color(`hsl(40, 35%, ${45 + i*4}%)`).multiplyScalar(strength),
            side: THREE.DoubleSide,
            transparent: true,
            opacity: 0.85
        });

        const mesh = new THREE.Mesh(ringGeo, ringMat);
        mesh.rotation.x = Math.PI/2;
        ringGroup.add(mesh);
    }
}

buildRings(4,1);

/* =============  EXTRA ORBITING PLANETS =============== */
const planets = [];
function createPlanet(radius, dist, speed, color){
    const geo = new THREE.SphereGeometry(radius,32,32);
    const mat = new THREE.MeshStandardMaterial({color});
    const m = new THREE.Mesh(geo,mat);
    m.userData = {dist, speed, angle:Math.random()*Math.PI*2};
    scene.add(m);
    planets.push(m);
}

/* optional planets */
createPlanet(0.5, 10, 0.003, 0x88bbff);
createPlanet(1, 14, 0.0015, 0xffaa88);
createPlanet(0.7, 18, 0.002, 0x99ffd9);

/* =============  USER CONTROLS =============== */
document.getElementById("rings").oninput = e => {
    buildRings(Number(e.target.value), Number(document.getElementById("strength").value));
};
document.getElementById("strength").oninput = e => {
    buildRings(Number(document.getElementById("rings").value), Number(e.target.value));
};

/* =============  BUTTON HANDLERS =============== */
document.getElementById("openVideo").onclick = () => {
    window.open("24033952-8507-4184-8173-e890f97e714b.png", "_blank");
};

document.getElementById("openASCII").onclick = () => {
    document.getElementById("asciiModal").style.display = "flex";

    fetch("https://raw.githubusercontent.com/busybox11/ascii-saturn/main/saturn_ascii.txt")
      .then(r => r.text())
      .then(t => {
          document.getElementById("asciiBox").textContent = t;
      })
      .catch(() => {
          document.getElementById("asciiBox").textContent = "(ASCII failed to load)";
      });
};

document.getElementById("closeASCII").onclick = () => {
    document.getElementById("asciiModal").style.display = "none";
};

/* =============  ANIMATE =============== */
function animate(){
    requestAnimationFrame(animate);

    /* rotate Saturn */
    saturn.rotation.y += 0.003;

    /* tilt rings slowly */
    ringGroup.rotation.x = Math.sin(Date.now()*0.0004) * 0.35;
    ringGroup.rotation.y += 0.0015;

    /* orbit planets */
    planets.forEach(p => {
        p.userData.angle += p.userData.speed;
        p.position.set(
            Math.cos(p.userData.angle)*p.userData.dist,
            0,
            Math.sin(p.userData.angle)*p.userData.dist
        );
    });

    renderer.render(scene,camera);
}
animate();

</script>
</body>
</html>

